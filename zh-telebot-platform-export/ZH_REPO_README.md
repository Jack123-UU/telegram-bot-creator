# ğŸ¤– TeleBoté”€å”®å¹³å° - å®Œæ•´ç‰ˆ

[![CI/CD](https://github.com/zh-username/zh-telebot-platform/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/zh-username/zh-telebot-platform/actions/workflows/ci-cd.yml)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.11+-green.svg)](https://python.org)
[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://docker.com)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Telegramæœºå™¨äººé”€å”®å¹³å°ï¼Œæ”¯æŒTRONåŒºå—é“¾æ”¯ä»˜ã€ä¼ä¸šçº§å®‰å…¨æ¶æ„å’Œåˆ†é”€å•†ä¸€é”®å…‹éš†ç³»ç»Ÿã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¤– Telegramæœºå™¨äºº
- **æ™ºèƒ½äº¤äº’**: åŸºäºaiogramæ¡†æ¶çš„ç°ä»£åŒ–æœºå™¨äºº
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­æ–‡/è‹±æ–‡åˆ‡æ¢
- **ç”¨æˆ·ç®¡ç†**: è‡ªåŠ¨æ³¨å†Œã€ç”¨æˆ·ä¸­å¿ƒã€è´­ä¹°å†å²
- **å•†å“æµè§ˆ**: æŒ‰å›½å®¶/ç±»å‹ç­›é€‰ã€åŒºå·å¿«é€ŸæŸ¥æ‰¾
- **è®¢å•æµç¨‹**: ä¸‹å•â†’æ”¯ä»˜â†’è‡ªåŠ¨å‘è´§

### ğŸ’° TRONåŒºå—é“¾æ”¯ä»˜
- **å›ºå®šæ”¶æ¬¾åœ°å€**: ä¼ä¸šçº§TRONé’±åŒ…é›†æˆ
- **ç²¾ç¡®åŒ¹é…**: å”¯ä¸€é‡‘é¢å°¾æ•°è¯†åˆ«æŠ€æœ¯
- **è‡ªåŠ¨ç¡®è®¤**: é“¾ä¸Šç›‘å¬å’Œæ”¯ä»˜éªŒè¯
- **å®‰å…¨å¯é **: 15åˆ†é’Ÿæ”¯ä»˜çª—å£ï¼Œè‡ªåŠ¨é€€æ¬¾

### ğŸ›¡ï¸ ä¼ä¸šçº§å®‰å…¨
- **Vaultå¯†é’¥ç®¡ç†**: HashiCorp Vaultç»Ÿä¸€ç®¡ç†æ•æ„Ÿä¿¡æ¯
- **2FAè®¤è¯**: åŒå› å­è®¤è¯ä¿æŠ¤ç®¡ç†åå°
- **æ“ä½œå®¡è®¡**: å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œå®¡è®¡è·Ÿè¸ª
- **åŠ å¯†å­˜å‚¨**: AES-256åŠ å¯†æ–‡ä»¶å­˜å‚¨

### ğŸš€ å®¹å™¨åŒ–éƒ¨ç½²
- **Dockeræ”¯æŒ**: å®Œæ•´çš„Docker Composeé…ç½®
- **Kubernetes**: Helm Chartsä¼ä¸šçº§éƒ¨ç½²
- **CI/CD**: GitHub Actionsè‡ªåŠ¨åŒ–éƒ¨ç½²
- **ä¸€é”®éƒ¨ç½²**: ç®€åŒ–çš„éƒ¨ç½²è„šæœ¬

### ğŸ”„ åˆ†é”€ç³»ç»Ÿ
- **ä¸€é”®å…‹éš†**: åˆ†é”€å•†ç‹¬ç«‹éƒ¨ç½²æ¨¡æ¿
- **åº“å­˜åŒæ­¥**: å®æ—¶åº“å­˜ç®¡ç†å’ŒåŒæ­¥
- **ä»·æ ¼ç®¡ç†**: çµæ´»çš„ä»·æ ¼ç­–ç•¥è®¾ç½®
- **ä½£é‡‘ç»“ç®—**: è‡ªåŠ¨åŒ–ä½£é‡‘è®¡ç®—

### ğŸ“Š ç®¡ç†åå°
- **ç°ä»£ç•Œé¢**: React + TypeScript + Tailwind CSS
- **å®æ—¶ç›‘æ§**: ç³»ç»ŸçŠ¶æ€å’Œæ€§èƒ½ç›‘æ§
- **æ•°æ®ç»Ÿè®¡**: é”€å”®æŠ¥è¡¨å’Œç”¨æˆ·åˆ†æ
- **APIæ–‡æ¡£**: Swagger/OpenAPIè‡ªåŠ¨ç”Ÿæˆ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç®¡ç†ç•Œé¢    â”‚   Telegram Bot  â”‚   åç«¯APIæœåŠ¡    â”‚
â”‚  React + TS     â”‚  Python+aiogram â”‚  FastAPI+Python â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PostgreSQL    â”‚     Redis       â”‚   TRON åŒºå—é“¾    â”‚
    â”‚   ä¸»æ•°æ®åº“      â”‚    ç¼“å­˜/é˜Ÿåˆ—     â”‚   æ”¯ä»˜å¤„ç†       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        HashiCorp Vault              â”‚
         â”‚        å¯†é’¥ç®¡ç†å’Œå®‰å…¨å­˜å‚¨            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Docker & Docker Compose
- Node.js 18+
- Python 3.11+
- PostgreSQL 15+
- Redis 7+

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/zh-telebot-platform.git
cd zh-telebot-platform
```

### 2. ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp config/env.example config/.env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano config/.env
```

å¿…éœ€é…ç½®é¡¹ï¼š
```env
# Telegram Bot
BOT_TOKEN=your_telegram_bot_token
BOT_USERNAME=your_bot_username

# æ•°æ®åº“
DATABASE_URL=postgresql://user:pass@localhost:5432/telebot
REDIS_URL=redis://localhost:6379/0

# TRONé’±åŒ…
TRON_WALLET_ADDRESS=your_tron_wallet_address
TRON_PRIVATE_KEY=your_tron_private_key

# å®‰å…¨å¯†é’¥
SECRET_KEY=your_secret_key
JWT_SECRET=your_jwt_secret
```

### 3. å¯åŠ¨æœåŠ¡

#### å¼€å‘ç¯å¢ƒ
```bash
# ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
docker-compose -f docker-compose.dev.yml up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
```

#### ç”Ÿäº§ç¯å¢ƒ
```bash
# å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.prod.yml up -d
```

### 4. éªŒè¯éƒ¨ç½²
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# APIæ–‡æ¡£
open http://localhost:8000/docs

# å‰ç«¯ç•Œé¢
open http://localhost:3000
```

### 5. æµ‹è¯•æœºå™¨äºº
1. åœ¨Telegramä¸­æ‰¾åˆ°ä½ çš„æœºå™¨äºº
2. å‘é€ `/start` å‘½ä»¤
3. æµ‹è¯•å®Œæ•´è´­ä¹°æµç¨‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
zh-telebot-platform/
â”œâ”€â”€ backend/                 # FastAPIåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/                # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ tests/              # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚   â””â”€â”€ Dockerfile         # åç«¯Dockeré•œåƒ
â”œâ”€â”€ bot/                    # Telegramæœºå™¨äºº
â”‚   â”œâ”€â”€ handlers/          # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ tests/             # æœºå™¨äººæµ‹è¯•
â”‚   â”œâ”€â”€ requirements.txt   # Pythonä¾èµ–
â”‚   â””â”€â”€ Dockerfile        # æœºå™¨äººDockeré•œåƒ
â”œâ”€â”€ src/                   # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ types/           # TypeScriptç±»å‹
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ env.example       # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ vault/           # Vaulté…ç½®
â”œâ”€â”€ deploy/               # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ helm/            # Kubernetes Helm Charts
â”‚   â””â”€â”€ docker/          # Dockeré…ç½®
â”œâ”€â”€ scripts/              # éƒ¨ç½²å’Œç®¡ç†è„šæœ¬
â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ tests/               # é›†æˆæµ‹è¯•
```

## ğŸ”§ é…ç½®æŒ‡å—

### Telegram Botè®¾ç½®
1. å‘ [@BotFather](https://t.me/BotFather) ç”³è¯·æœºå™¨äºº
2. è·å–Bot Token
3. è®¾ç½®æœºå™¨äººå‘½ä»¤å’Œèœå•

### TRONé’±åŒ…é…ç½®
```bash
# ç”Ÿæˆæ–°é’±åŒ… (å¦‚æœéœ€è¦)
tronpy wallet generate

# é…ç½®æ”¶æ¬¾åœ°å€
export TRON_WALLET_ADDRESS="TYour..."
export TRON_PRIVATE_KEY="your_private_key"
```

### æ•°æ®åº“åˆå§‹åŒ–
```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
cd backend
python -m alembic upgrade head
```

### Vaultå¯†é’¥ç®¡ç†
```bash
# å¯åŠ¨Vault (å¼€å‘æ¨¡å¼)
vault server -dev

# å­˜å‚¨æ•æ„Ÿé…ç½®
vault kv put secret/telebot \
  bot_token="your_bot_token" \
  tron_private_key="your_private_key"
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
# å‰ç«¯æµ‹è¯•
npm test

# åç«¯æµ‹è¯•
cd backend && pytest

# æœºå™¨äººæµ‹è¯•
cd bot && pytest

# é›†æˆæµ‹è¯•
./scripts/test-integration.sh
```

### åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•æœºå™¨äººåŠŸèƒ½
python test_bot_functions.py

# æµ‹è¯•æ”¯ä»˜æµç¨‹
python test_payment_flow.py

# æµ‹è¯•APIç«¯ç‚¹
./test_api_endpoints.sh
```

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### Docker Composeéƒ¨ç½²
```bash
# é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
cp config/env.example config/.env.prod

# å¯åŠ¨ç”Ÿäº§æœåŠ¡
docker-compose -f docker-compose.prod.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### Kuberneteséƒ¨ç½²
```bash
# å®‰è£…Helm Chart
helm repo add telebot ./deploy/helm
helm install telebot-platform telebot/telebot \
  --set bot.token="your_bot_token" \
  --set tron.address="your_tron_address"

# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
kubectl get pods -l app=telebot
```

### ä¸€é”®åˆ†é”€å•†éƒ¨ç½²
```bash
# ç”Ÿæˆåˆ†é”€å•†éƒ¨ç½²åŒ…
./scripts/generate-distributor-package.sh

# åˆ†é”€å•†ä½¿ç”¨
./distributor-deploy.sh --token YOUR_TOKEN --wallet YOUR_WALLET
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### ç³»ç»Ÿç›‘æ§
- **Prometheus**: æŒ‡æ ‡æ”¶é›†
- **Grafana**: å¯è§†åŒ–ç›‘æ§
- **Alertmanager**: å‘Šè­¦é€šçŸ¥

### æ—¥å¿—ç®¡ç†
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f bot backend

# é”™è¯¯æ—¥å¿—
grep ERROR /var/log/telebot/*.log
```

### æ•°æ®å¤‡ä»½
```bash
# æ•°æ®åº“å¤‡ä»½
./scripts/backup-database.sh

# æ–‡ä»¶å¤‡ä»½
./scripts/backup-files.sh
```

### å®‰å…¨ç»´æŠ¤
```bash
# å¯†é’¥è½®æ¢
./scripts/rotate-keys.sh

# å®‰å…¨æ‰«æ
./scripts/security-scan.sh

# å®¡è®¡æŠ¥å‘Š
./scripts/generate-audit-report.sh
```

## ğŸ” å®‰å…¨è€ƒè™‘

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨æ¸…å•
- [ ] ä½¿ç”¨å¼ºå¯†ç å’Œå¯†é’¥
- [ ] å¯ç”¨2FAåŒå› å­è®¤è¯
- [ ] é…ç½®é˜²ç«å¢™è§„åˆ™
- [ ] å®šæœŸæ›´æ–°ä¾èµ–åŒ…
- [ ] ç›‘æ§å¼‚å¸¸æ´»åŠ¨
- [ ] å®šæœŸå¤‡ä»½æ•°æ®
- [ ] å®¡è®¡æ“ä½œæ—¥å¿—

### åˆè§„æ€§è¯´æ˜
âš ï¸ **é‡è¦æé†’**: 
- é”€å”®Telegramè´¦å·æˆ–sessionæ–‡ä»¶å¯èƒ½è¿åTelegramæœåŠ¡æ¡æ¬¾
- è¯·ç¡®ä¿éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„
- ä½¿ç”¨å‰è¯·å’¨è¯¢æ³•å¾‹ä¸“ä¸šäººå£«
- ç”¨æˆ·éœ€è‡ªè¡Œæ‰¿æ‹…æ³•å¾‹è´£ä»»

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯ã€‚

## ğŸ†˜ æ”¯æŒå’Œè”ç³»

- ğŸ“– [æ–‡æ¡£Wiki](https://github.com/your-username/zh-telebot-platform/wiki)
- ğŸ› [é—®é¢˜åé¦ˆ](https://github.com/your-username/zh-telebot-platform/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/your-username/zh-telebot-platform/discussions)
- ğŸ“§ é‚®ä»¶: support@your-domain.com

## ğŸ¯ è·¯çº¿å›¾

- [ ] ç§»åŠ¨ç«¯ç®¡ç†åº”ç”¨
- [ ] å¤šå¸ç§æ”¯ä»˜æ”¯æŒ
- [ ] AIå®¢æœé›†æˆ
- [ ] é«˜çº§æ•°æ®åˆ†æ
- [ ] ç¬¬ä¸‰æ–¹APIé›†æˆ
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ

---

**å…è´£å£°æ˜**: æœ¬è½¯ä»¶ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚è¯·ç¡®ä¿åœ¨ä½¿ç”¨å‰äº†è§£å¹¶éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚